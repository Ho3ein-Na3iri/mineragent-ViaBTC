# Руководство пользователя Windows MinerAgent

Русский | [简体中文](./README.md) | [English](./README.en.md)

## 1. Системные требования
- Операционная система: Windows 10 (64-бит) или новее
- Процессор: 4 ядра и более
- Оперативная память: 8 ГБ и более
- Хранилище: 60 ГБ и более
  
## 2. Установка MinerAgent
### Шаг 1. Загрузка
Перейдите по ссылке и скачайте актуальную версию:: https://github.com/viabtc/mineragent/tree/master/windows

## 3. Настройка MinerAgent
1. Запустите `viabtc_mineragent_gui.exe`.
2. Откроется окно конфигурации (пример ниже).

![config](./res/config_en.png)

**Поля настроек:**
- Монета для майнинга — по умолчанию BTC. Выберите другую монету из выпадающего списка при необходимости.
- URL-адрес пула 1–3 — можно задать до 3 адресов. Если первый недоступен, агент автоматически переключится на следующий.
- SSL — отметьте, если хотите использовать защищённое соединение.
- Порт привязки — порт для подключения майнеров к агенту (по умолчанию `3333`). Если запускаете несколько агентов, порты должны быть разными.
- Номер потока — число воркеров в майнинг агенте. По умолчанию совпадает с количеством потоков ЦПУ (Изменять не обязательно).
- Пропустить настройку: При включении этой функции приложение пропустит этап настройки при следующем запуске и сразу запустит службу агента с вашими предыдущими настройками.
- Автозапуск: При включении этой функции майнер агента будет автоматически запускаться вместе с системой. Включение автозапуска также автоматически активирует функцию «Пропустить настройку».

После внесения настроек нажмите `OK`, чтобы запустить агент

![mineragent](./res/mineragent_en.png)

## 4. Интерфейс и мониторинг
### Монитор состояния
- Состояние майнинг пула — зелёный индикатор: подключено, красный: ошибка подключения.
- Количество потоков — текущее число рабочих потоков (можно изменить в конфигурации).
- Выгрузка / Загрузка — скорость передачи данных.
- Количество подключений — общее число майнеров, подключённых к агенту.
- Активные майнеры — майнеры, отправившие данные о хешрейте за последние 10 минут.
- Хешрейт в реальном времени — суммарный хешрейт всех подключенных майнеров (обновляется каждые 10 мин).
- Коэффициент отклонения — процент отклонённых или недействительных шар.

### Мониторинг хешрейта
- Кнопки **1 мин / 10 мин** — выбор интервала отображения.
- **Линейный график:**
    - синяя линия — изменение хешрейта;
    -  зелёная линия — количество подключённых майнеров.
- Наведите курсор на график, чтобы увидеть точные значения.

## 5. Параметры выхода
При нажатии на крестик (X) в правом верхнем углу интерфейса службы агента откроется диалоговое окно подтверждения выхода.

![quit](./res/quit_en.png)

### Описание кнопок:
- Конфигурация: Закрывает текущее окно службы агента и возвращает пользователя в интерфейс конфигурации.
- Трей: Сворачивает службу агента в системный лоток в правом нижнем углу рабочего стола.
- Продолжить: Отменяет действие и возвращает пользователя в интерфейс службы агента.
- Выход: Полностью закрывает программу службы агента.

## 6. Подключение майнеров
Майнер подключается по `IP:Port`:  
- **IP** — адрес сервера с запущенным агентом.
- **Port** — порт привязки, указанный в настройках.

**Как узнать IP-адрес сервера**

Нажмите `Win + r`, введите `cmd` или `powershell`, нажмите **Enter**.Введите команду: `ipconfig | findstr "IPv4"` и нажмите Enter. Вы увидите IP-адрес сервера.

![ip](./res/ip.png)

Пример: IP-адрес сервера — `10.20.6.109`, а порт привязки — `3333`. Затем в интерфейсе конфигурации майнера укажите URL-адрес для майнинга:

`stratum+tcp://10.20.6.109:3333`

## 7. Рекомендации и примечания
1. Чтобы IP-адрес не менялся, установите `статический IP` (инструкции доступны в интернете).
2. На одну монету используйте только один агент. Для майнинга разных монет запустите отдельный агент для каждой.